api:
  token: "YOUR_API_TOKEN_HERE"
  base_url: "https://api.clashroyale.com/v1"
  rate_limit:
    requests_per_second: 0.8  # Máximo 0.5 requests por segundo (2 segundos entre requests)
    max_retries: 3  # Número de reintentos si hay error 429
    retry_delay: 60  # Segundos a esperar antes de reintentar después de 429

data:
  raw_dir: "data/01-raw"
  processed_dir: "data/02-preprocessed"
  features_dir: "data/03-features"
  predictions_dir: "data/04-predictions"
  min_clan_score: 99000

training:
  epochs: 10  # Para modelos base (no usado en transfer learning)
  batch_size: 128
  lr: 0.01  # Learning rate base para transfer learning
  device: "auto"
  early_stopping_patience: 10
  val_split: 0.2
  save_best_model: true
  model_save_dir: "models"
  num_workers: 4
  gradient_clip_norm: 1.0
  log_gradients_every_n_epochs: 5
  compute_metrics: true
  save_history_every_n_epochs: 3
  save_history_format: "both"
  logging:
    enabled: true
    log_file: "training_errors.log"
    log_level: "DEBUG"
  lr_scheduler:
    type: "reduce_on_plateau"
    patience: 5
    factor: 0.5
    min_lr: 0.000001
  # Transfer learning specific configuration
  transfer_learning:
    stage1_epochs: 5   # Adapter training epochs
    stage2_epochs: 10  # Partial fine-tuning epochs
    stage3_epochs: 10  # Full fine-tuning epochs
    stage2_lr_factor: 0.5  # LR multiplier for stage 2 (base_lr * 0.5)
    stage3_lr_factor: 0.1  # LR multiplier for stage 3 (base_lr * 0.1)
  margin_weights:
    3: 1.0    # 3-crown win
    2: 0.8    # 2-crown win
    1: 0.6    # 1-crown win
    0: 0.0    # Draw (skip)
    -1: 0.2   # 1-crown loss
    -2: 0.1   # 2-crown loss
    -3: 0.05  # 3-crown loss

model:
  input_dim: 90  # 6 cards * 15 features per card
  num_cards: 110
  hidden_dims: [512, 256, 128, 64]  # Para modelos base (GCN/GraphSAGE)
  dropout_rates: [0.4, 0.3, 0.2, 0.1]  # Para transfer learning
  gnn_type: "GraphSAGE"  # Options: "GCN", "GAT", or "GraphSAGE"
  num_gnn_layers: 4  # Based on hidden_dims length
  weight_init: "xavier"  # Options: "xavier", "kaiming", "default"
  loss_aggregation: "mean"  # Options: "mean", "max", "input_nodes"
  # GraphSAGE specific settings
  sage_aggr: "mean"  # GraphSAGE aggregation: "mean", "max", or "lstm"

graph:
  graph_type: "co_occurrence"
  edge_threshold: 5
  node_features: ["id", "elixirCost", "rarity", "maxLevel", "maxEvolutionLevel"]
  normalize_features: true
  normalization_method: "standard"  # Options: "standard" or "minmax"