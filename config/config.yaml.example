api:
  token: "YOUR_API_TOKEN_HERE"
  base_url: "https://api.clashroyale.com/v1"
  rate_limit:
    requests_per_second: 0.8  # Máximo 0.5 requests por segundo (2 segundos entre requests)
    max_retries: 3  # Número de reintentos si hay error 429
    retry_delay: 60  # Segundos a esperar antes de reintentar después de 429

data:
  raw_dir: "data/01-raw"
  processed_dir: "data/02-preprocessed"
  features_dir: "data/03-features"
  predictions_dir: "data/04-predictions"
  min_clan_score: 99000  # Minimum clan score for filtering clans

training:
  epochs: 50
  batch_size: 128
  lr: 0.0005  # Start with lower LR
  device: "auto"  # Auto-detect GPU if available, fallback to "cpu"
  early_stopping_patience: 10
  val_split: 0.2
  save_best_model: true
  model_save_dir: "models"
  num_workers: 4  # Number of data loading workers (0 = main process only)
  gradient_clip_norm: 1.0  # Gradient clipping max norm
  log_gradients_every_n_epochs: 5  # Log gradient stats every N epochs
  compute_metrics: true  # Compute top-k accuracy metrics
  # Save training history incrementally for visualization
  save_history_every_n_epochs: 5  # Save every N epochs (0 = only at end)
  save_history_format: "both"  # "json", "csv", or "both"
  lr_scheduler:
    type: "reduce_on_plateau"  # Options: "reduce_on_plateau", "cosine", "step"
    patience: 5  # For reduce_on_plateau
    factor: 0.5  # LR reduction factor
    min_lr: 1e-6  # Minimum learning rate

model:
  input_dim: 90  # 6 cards * 15 features per card
  num_cards: 110
  hidden_dims: [256, 128, 64]
  dropout_rates: [0.3, 0.2, 0.1]
  gnn_type: "GCN"  # Options: "GCN" or "GAT"
  num_gnn_layers: 3  # Based on hidden_dims length
  weight_init: "xavier"  # Options: "xavier", "kaiming", "default"
  loss_aggregation: "mean"  # Options: "mean", "max", "input_nodes"

graph:
  graph_type: "co_occurrence"  # Type of graph structure
  edge_threshold: 5  # Minimum co-occurrence count for edges
  node_features: ["id", "elixirCost", "rarity", "maxLevel", "maxEvolutionLevel"]  # Card features to extract
  normalize_features: true  # Normalize node features
  normalization_method: "standard"  # Options: "standard" (zero mean, unit variance) or "minmax" (0-1 range)
